# вимоги до гри space invaders

Цей документ формує єдине джерело вимог для реалізації гри space invaders мовою Python. Ми орієнтуємося на класичну аркаду з чіткою і повторюваною механікою. Мета полягає у відтворенні канонічного відчуття гри з акуратними сучасними технічними вимогами та тестованою структурою коду.

## цілі та сценарій гри

Гравець керує кораблем у нижній частині екрана і знищує хвилі ворогів що рухаються зверху вниз. Перемога досягається коли хвиля повністю знищена. Поразка фіксується коли вороги досягають лінії фортеці або коли запас життів вичерпано. Бал виставляється за кожного знищеного ворога та за бонусні цілі. Сесія гри зберігає локальний рекорд у файлі з налаштуваннями користувача.

## управління та ввід

Рух ліворуч і праворуч виконується з клавішами лівої та правої стрілки або клавішами A і D. Постріл виконується з клавішею пробіл. Пауза вмикається з клавішею P. Вихід у головне меню виконується через клавішу Escape. Тримання пробілу дає авто вогонь з обмеженням частоти пострілів. Підтримуємо геймпад якщо присутній у системі з такими самими діями на осі та кнопки.

## геймдизайн та баланс

Швидкість ворогів зростає коли кількість ворогів у хвилі зменшується. Межі поля обмежують рух гравця. Кожен постріл гравця існує до зіткнення або виходу за межі екрана. Ворожі снаряди мають ймовірність появи що залежить від рівня складності. Щити зменшують пошкодження снарядів та руйнуються по сегментах. Бонусний корабель інколи пролітає по верхній лінії і дає підвищений бал.

## рівні складності

Маємо три профілі. Легкий режим з меншою швидкістю ворогів і рідшим вогнем. Звичайний режим із базовими швидкостями і стандартною частотою пострілів ворогів. Складний режим з більшою швидкістю ворогів підвищеним темпом вогню та скороченим часом реакції бонусів. Параметри складності задаються у конфігураційному файлі і можуть коригуватися без зміни коду.

## таймінг і продуктивність

Ігровий цикл працює з фіксованим кроком оновлення логіки шістдесят кроків на секунду. Рендеринг може пропускати кадри якщо апаратні можливості обмежені. Економія часу сну використовується для стабілізації частоти кадрів. Усі обчислення руху виконуються у світових одиницях що не залежать від конкретної частоти екрану.

## зіткнення і фізика

Зіткнення перевіряємо через прямокутні хитбокси з можливістю вибору точнішої апроцимації еліпсом для гравця та кругом для снаряда. Усі перевірки виконуються у системі координат сцени. Дублювання зіткнення в одному кроці заборонене. Події зіткнення генерують команди для змін стану які обробляються на наступному кроці що підвищує детермінізм.

## графіка та аудіо

Рендеринг спрайтів виконується у цільовій роздільній здатності 1280×720 або 1920×1080 з масштабуванням найближчого сусіда для ретро стилю. Анімації ворогів мають два кадри та зміну текстури на кожному такті руху. Вибухи виконуються короткими анімаційними кліпами. Аудіо містить ефекти пострілу вибуху та переміщення ворогів. Регулятор гучності працює окремо для музики та ефектів.

## інтерфейс користувача

Маємо екрани головного меню налаштувань гри паузи та підсумку сесії. Шрифти без засічок з чітким рендерингом. Кнопки керуються як клавіатурою так і мишею. Підтримується українська та англійська локалізація через файл перекладу у форматі JSON або TOML. Усі тексти відокремлені від коду.

## збереження і конфігурація

Локальні файли зберігаються у каталозі користувача в підкаталозі space_invaders. Формат збережень простий текстовий JSON або TOML. Зберігаємо найвищий бал параметри складності та опції вводу. Конфігурація гри читається під час старту і може відновлюватись до значень за замовчуванням через меню.

## телеметрія і логування

Мережевої телеметрії немає. Локальне логування у файл logs/game.log з мінімальним рівнем інформація. Помилки та винятки фіксуємо і показуємо користувачеві стримані повідомлення без технічних деталей.

## сумісність і розгортання

Цільове середовище Windows 10 і новіші а також сучасні дистрибутиви Linux. Обов’язкова наявність Python версії 3.12. Рекомендована бібліотека pygame-ce через активне супроводження. Розгортання виконується через пакетний скрипт що встановлює залежності та запускає головний модуль. Підтримуємо збірку автономного виконуваного файлу за бажанням через PyInstaller.

## вимоги до якості

Код супроводжується юніт тестами для логіки руху зіткнень і системи очок. Покриття не нижче шістдесяти відсотків для ігрової логіки. Усі публічні функції мають типові анотації. Статичний аналіз проходить без помилок з використанням mypy та ruff. Час запуску на типовій машині не перевищує дві секунди. Середній час кадру у бойовій сцені не повинен перевищувати шістнадцять мілісекунд.

## приймальні критерії

Запуск гри відкриває головне меню та дозволяє почати нову сесію. Корабель рухається рівномірно з обмеженням межами екрана. Постріли відпрацьовують зіткнення з ворогами. Хвиля ворогів коректно змінює швидкість під час зменшення кількості ворогів. Система балів працює і показує підсумок після завершення сесії. Збереження найвищого бала відбувається стабільно. Налаштування вводяться і застосовуються без перезапуску гри.
