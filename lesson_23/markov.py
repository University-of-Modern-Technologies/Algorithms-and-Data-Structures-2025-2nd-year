import numpy as np

# Матриця переходів (рядки = з якого стану, стовпці = в який стан)
P = np.array([[0.1, 0.6, 0.3], [0.4, 0.5, 0.1], [0.2, 0.3, 0.5]])

# Перевірка: кожен рядок має сумуватись до 1 (стохастична матриця)
print("Сума кожного рядка (має бути 1.0):")
print(P.sum(axis=1))
print()

# Початковий розподіл імовірностей (100% користувачів починають з A)
initial_distribution = np.array([1.0, 0.0, 0.0])

# Кількість ітерацій для досягнення стаціонарного розподілу
num_iterations = 10

# Наближене знаходження стаціонарного розподілу
distribution = initial_distribution
for i in range(num_iterations):
    distribution = distribution @ P  # Вектор-рядок множимо справа

# Виведення результатів
print("Стаціонарний розподіл:")
print(f"Імовірність перебування на сайті A: {distribution[0]:.4f}")
print(f"Імовірність перебування на сайті B: {distribution[1]:.4f}")
print(f"Імовірність перебування на сайті C: {distribution[2]:.4f}")
print(f"\nСума: {distribution.sum():.4f} (має бути 1.0)")
